<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>自定义指令——基本用法</title>
    <style>
        [v-cloak] {
            display: none;
        }
    </style>
</head>

<body>
    <div id="app" v-cloak>
        <input type="text" v-focus />
    </div>
    <script src="https://unpkg.com/vue/dist/vue.min.js"></script>
    <script>
        Vue.directive('focus', {
            // 希望在元素插入父节点时就调用，
            // 即打开页面，input自动获得了焦点，成为可输入状态
            inserted: function (el, binding) {
                // 聚焦元素
                el.focus();
                console.log(binding);
            }
        })
        var app = new Vue({
            el: "#app",
            mounted: function () {
                console.log("自定义指令的注册方法也分为全局注册和局部注册。");
                console.log("自定义指令的选项是由几个钩子函数组成的，每一个都是可选的。");
                console.log("1.bind：只调用一次，指令第一次绑定到元素时调用，用这个钩子函数可以定义一个在绑定时执行一次的初始化动作。");
                console.log("2.inserted：被绑定元素插入父节点时调用（父节点存在即可调用，不必存在于document中。）");
                console.log("3.update：被绑定元素所在的模板更新时调用，而不论绑定值是否变化。通过比较更新前后的绑定值，可以忽略不必要的模板更新。");
                console.log("4.componentUpdated：被绑定的元素所在模板完成一次更新周期时调用。");
                console.log("5.unbind：只调用一次，指令与元素解绑时调用。");
            }
        });
    </script>
</body>

</html>